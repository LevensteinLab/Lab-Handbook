<!DOCTYPE html>
<html lang="en" data-bs-theme="light">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        
        <link rel="canonical" href="https://levensteinlab.github.io/lab-handbook/Policies/code_software/">
        <link rel="shortcut icon" href="../../img/favicon.ico">
        <title>Good Software - Levenstein Lab Handbook</title>
        <link href="../../css/bootstrap.min.css" rel="stylesheet">
        <link href="../../css/fontawesome.min.css" rel="stylesheet">
        <link href="../../css/brands.min.css" rel="stylesheet">
        <link href="../../css/solid.min.css" rel="stylesheet">
        <link href="../../css/v4-font-face.min.css" rel="stylesheet">
        <link href="../../css/base.css" rel="stylesheet">
        <link id="hljs-light" rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github.min.css" >
        <link id="hljs-dark" rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github-dark.min.css" disabled>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
        <script>hljs.highlightAll();</script> 
    </head>

    <body>
        <div class="navbar fixed-top navbar-expand-lg navbar-dark bg-primary">
            <div class="container">
                <a class="navbar-brand" href="../..">Levenstein Lab Handbook</a>
                <!-- Expander button -->
                <button type="button" class="navbar-toggler" data-bs-toggle="collapse" data-bs-target="#navbar-collapse" aria-controls="navbar-collapse" aria-expanded="false" aria-label="Toggle navigation">
                    <span class="navbar-toggler-icon"></span>
                </button>

                <!-- Expanded navigation -->
                <div id="navbar-collapse" class="navbar-collapse collapse">
                        <!-- Main navigation -->
                        <ul class="nav navbar-nav">
                            <li class="nav-item dropdown">
                                <a href="#" class="nav-link dropdown-toggle active" aria-current="page" role="button" data-bs-toggle="dropdown"  aria-expanded="false">Policies</a>
                                <ul class="dropdown-menu">
                                    
<li>
    <a href="./" class="dropdown-item active" aria-current="page">Good Software</a>
</li>
                                    
<li>
    <a href="../conferences_workshops/" class="dropdown-item">Conferences and Workshops</a>
</li>
                                    
<li>
    <a href="../health_wellness/" class="dropdown-item">Health & Wellness</a>
</li>
                                    
<li>
    <a href="../hours_remote_vacation/" class="dropdown-item">Hours & Remote Work</a>
</li>
                                    
<li>
    <a href="../meetings/" class="dropdown-item">Meetings</a>
</li>
                                </ul>
                            </li>
                            <li class="nav-item dropdown">
                                <a href="#" class="nav-link dropdown-toggle" role="button" data-bs-toggle="dropdown"  aria-expanded="false">Resources</a>
                                <ul class="dropdown-menu">
                                    
<li>
    <a href="../../Resources/adobe/" class="dropdown-item">Adobe</a>
</li>
                                    
<li>
    <a href="../../Resources/basic_github/" class="dropdown-item">Basic Github</a>
</li>
                                    
<li>
    <a href="../../Resources/booking/" class="dropdown-item">Booking Rooms</a>
</li>
                                    
<li>
    <a href="../../Resources/funding/" class="dropdown-item">Fellowships/Grants</a>
</li>
                                    
<li>
    <a href="../../Resources/gen_ai/" class="dropdown-item">GenAI</a>
</li>
                                    
<li>
    <a href="../../Resources/hpc/" class="dropdown-item">HPC</a>
</li>
                                    
<li>
    <a href="../../Resources/mailing_lists/" class="dropdown-item">Mailing Lists</a>
</li>
                                    
<li>
    <a href="../../Resources/mental_health/" class="dropdown-item">Mental Health</a>
</li>
                                    
<li>
    <a href="../../Resources/printers/" class="dropdown-item">Printing</a>
</li>
                                    
<li>
    <a href="../../Resources/prnn_tutorial/" class="dropdown-item">pRNN Tutorial</a>
</li>
                                    
<li>
    <a href="../../Resources/recommended_reading/" class="dropdown-item">Recommended Reading</a>
</li>
                                    
<li>
    <a href="../../Resources/science_general/" class="dropdown-item">Doing Science</a>
</li>
                                    
<li>
    <a href="../../Resources/travel/" class="dropdown-item">Travel</a>
</li>
                                    
<li>
    <a href="../../Resources/vpn/" class="dropdown-item">VPN</a>
</li>
                                    
<li>
    <a href="../../Resources/vs_code/" class="dropdown-item">VS Code</a>
</li>
                                    
<li>
    <a href="../../Resources/writing/" class="dropdown-item">Writing</a>
</li>
                                    
<li>
    <a href="../../Resources/purchases/" class="dropdown-item">Purchases</a>
</li>
                                </ul>
                            </li>
                            <li class="nav-item">
                                <a href="../../onboarding/" class="nav-link">Onboarding</a>
                            </li>
                            <li class="nav-item">
                                <a href="../../contact/" class="nav-link">Contact</a>
                            </li>
                        </ul>

                    <ul class="nav navbar-nav ms-md-auto">
                        <li class="nav-item">
                            <a href="#" class="nav-link" data-bs-toggle="modal" data-bs-target="#mkdocs_search_modal">
                                <i class="fa fa-search"></i> Search
                            </a>
                        </li>
                            <li class="nav-item">
                                <a rel="prev" class="nav-link disabled">
                                    <i class="fa fa-arrow-left"></i> Previous
                                </a>
                            </li>
                            <li class="nav-item">
                                <a rel="next" href="../conferences_workshops/" class="nav-link">
                                    Next <i class="fa fa-arrow-right"></i>
                                </a>
                            </li>
                            <li class="nav-item">
                                <a href="https://github.com/LevensteinLab/Lab-Handbook/edit/master/docs/Policies/code_software.md" class="nav-link"><i class="fa-brands fa-github"></i> Edit on GitHub</a>
                            </li>
                    </ul>
                </div>
            </div>
        </div>

        <div class="container">
            <div class="row">
                    <div class="col-md-3"><div class="navbar-expand-md bs-sidebar hidden-print affix" role="complementary">
    <div class="navbar-header">
        <button type="button" class="navbar-toggler collapsed" data-bs-toggle="collapse" data-bs-target="#toc-collapse" title="Table of Contents">
            <span class="fa fa-angle-down"></span>
        </button>
    </div>

    
    <div id="toc-collapse" class="navbar-collapse collapse card bg-body-tertiary">
        <ul class="nav flex-column">
            
            <li class="nav-item" data-bs-level="1"><a href="#code-and-software-practices" class="nav-link">Code and software practices</a>
              <ul class="nav flex-column">
              </ul>
            </li>
        </ul>
    </div>
</div></div>
                    <div class="col-md-9" role="main">

<h1 id="code-and-software-practices">Code and software practices</h1>
<p>Maintaining good code is essential to the efficient functioning of the lab. Best software practices mandate that the code is well-documented, commented, and modular. As code may be shared within our lab (and outside), these guidlines ensure that the code is understandable and usable quickly. There are plenty of great resources online regarding how to follow these practices.</p>
<ol>
<li><a href="https://goodresearch.dev/index.html">Good Research Code Handbook</a></li>
</ol>
<p>Here's how we may format our code as a lab:</p>
<h3 id="repository-types">Repository Types</h3>
<ol>
<li>
<p><strong>Project</strong> (“Lab Notebook”): A repository for managing the day-to-day progress of a research project — analyses in progress, exploratory modeling, notes, and experiment logs. The <a href="https://github.com/LevensteinLab/pat-cookiecutter">cookie cutter repository</a> (as described in the good research code handbook) is a good place to start, which will get you started with a file structure and environment. Each project should have its own repository.</p>
</li>
<li>
<p><strong>Package</strong>: In the course of a project, you’ll likely develop something reusable — e.g., a model, simulation tool, or analysis pipeline. A package is a cleaned-up, documented, and versioned version of that tool, designed so others (future lab members and the broader community) can easily use and extend it. This repository should be jointly owned by you and the lab organization (e.g., under the lab’s GitHub org). As your project moves from an exploration to an exploitation phase, work with Viggy to create and maintain a package repository.</p>
</li>
<li>
<p><strong>Publication</strong>: A repository for reproducing all figures and analyses in a specific paper. This repository is owned by the lab organization (since publications represent lab outputs). As you prepare to submit a manuscript, work with Viggy to set up this repository. The paper repository should depend on the relevant package (don’t reimplement analysis code) and should pin specific package versions (e.g., via requirements.txt, pyproject.toml, or git submodules) to ensure reproducibility. Include figure-generation scripts, processed data, and notebooks.</p>
</li>
</ol>
<h3 id="conventions">Conventions</h3>
<p>Patrick Mineault's code handbook above is a must-read before you start coding. It reviews the best ways to set up your project, to maintain clarity and cleanliness, to test your code, and to document your code as well. The handbook is the best way to learn these conventions, especially when it comes to efficiency and testing, which rely on great examples. However a few helpful tips to get you started in the right direction</p>
<ul>
<li>Use <code>git</code> often, often more than you think you should. See <code>Resources and How-Tos/basic_github.md</code> for additional information.</li>
<li>Setup your repository correctly, from the beginning.<ul>
<li>Mineault's base directory structure works really well to keep the inputs and outputs of your code separate:<ul>
<li><code>data</code> folder: raw input data</li>
<li><code>docs</code> folder: documentation, kept separate for later publishing</li>
<li><code>results</code> folder: code outputs, figures, tables, CSVs</li>
<li><code>scripts</code> folder: scripts for analysis like <code>.ipynb</code> notebooks</li>
<li><code>srcs</code> folder: reusable code that works at the base of all the scripts</li>
<li><code>tests</code> folder: unit tests</li>
</ul>
</li>
<li>This can be downloaded with the <code>true-neutral-cookiecutter</code>.</li>
</ul>
</li>
<li>Maintain your environments. Packages you import may have dependences on other packages with specific versions, or perhaps even specific versions of python. Installing all packages into one environment will make it extremely difficult to move the code to another computer or user (i.e. it's less <em>portable</em>).<ul>
<li>We can use <code>conda</code> as a package manager and virtual environment manager for this.</li>
<li><code>conda</code> can be installed via <a href="https://www.anaconda.com/docs/getting-started/miniconda/main">miniconda</a>, which is a lighter-weight version of the original Anaconda Distribution of packages/python. This will allow you to use <code>conda</code> to make virtual environments and manage packages.</li>
<li>Use a <code>.yml</code> file. These are special files that specify instructions on which packages comprise an environment. A different researcher using your code can automatically recreate your environment exactly as you have it by using this file, ensuring proper portability.</li>
</ul>
</li>
<li>Maintain good style.<ul>
<li>This includes commenting, which should be done at the top of functions, classes, modules, files, etc. This helps both you and others understand code.</li>
<li>Pythonic code can be confusing sometimes; you'll need to make the tradeoff between clarity and brevity.</li>
<li>Download a <a href="https://docs.astral.sh/ruff/">linter</a> (e.g. Ruff) to help you format your code.</li>
</ul>
</li>
</ul>
<h3 id="vs-code">VS Code</h3>
<p>VS Code is a great IDE because it's open source (unlike e.g. PyCharm), highly customizable via extensions, and has great remote development support (which is important when working with the cluster). You can download it <a href="https://code.visualstudio.com/Download">here</a>. If you are unfamiliar with VS Code/IDEs in general, see the <a href="https://levensteinlab.github.io/Lab-Handbook/Resources/vs_code">VS Code tutorial</a> for more info on how to get started.</p></div>
            </div>
        </div>

        <footer class="col-md-12">
            <hr>
            <p>Documentation built with <a href="https://www.mkdocs.org/">MkDocs</a>.</p>
        </footer>
        <script src="../../js/bootstrap.bundle.min.js"></script>
        <script>
            var base_url = "../..",
                shortcuts = {"help": 191, "next": 78, "previous": 80, "search": 83};
        </script>
        <script src="../../js/base.js"></script>
        <script src="../../search/main.js"></script>

        <div class="modal" id="mkdocs_search_modal" tabindex="-1" role="dialog" aria-labelledby="searchModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="searchModalLabel">Search</h4>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <p>From here you can search these documents. Enter your search terms below.</p>
                <form>
                    <div class="form-group">
                        <input type="search" class="form-control" placeholder="Search..." id="mkdocs-search-query" title="Type search term here">
                    </div>
                </form>
                <div id="mkdocs-search-results" data-no-results-text="No results found"></div>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div><div class="modal" id="mkdocs_keyboard_modal" tabindex="-1" role="dialog" aria-labelledby="keyboardModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="keyboardModalLabel">Keyboard Shortcuts</h4>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
              <table class="table">
                <thead>
                  <tr>
                    <th style="width: 20%;">Keys</th>
                    <th>Action</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td class="help shortcut"><kbd>?</kbd></td>
                    <td>Open this help</td>
                  </tr>
                  <tr>
                    <td class="next shortcut"><kbd>n</kbd></td>
                    <td>Next page</td>
                  </tr>
                  <tr>
                    <td class="prev shortcut"><kbd>p</kbd></td>
                    <td>Previous page</td>
                  </tr>
                  <tr>
                    <td class="search shortcut"><kbd>s</kbd></td>
                    <td>Search</td>
                  </tr>
                </tbody>
              </table>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div>

    </body>
</html>
