<!DOCTYPE html>
<html lang="en" data-bs-theme="light">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        
        <link rel="canonical" href="https://levensteinlab.github.io/lab-handbook/Resources/prnn_tutorial/">
        <link rel="shortcut icon" href="../../img/favicon.ico">
        <title>pRNN Tutorial - Levenstein Lab Handbook</title>
        <link href="../../css/bootstrap.min.css" rel="stylesheet">
        <link href="../../css/fontawesome.min.css" rel="stylesheet">
        <link href="../../css/brands.min.css" rel="stylesheet">
        <link href="../../css/solid.min.css" rel="stylesheet">
        <link href="../../css/v4-font-face.min.css" rel="stylesheet">
        <link href="../../css/base.css" rel="stylesheet">
        <link id="hljs-light" rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github.min.css" >
        <link id="hljs-dark" rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github-dark.min.css" disabled>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
        <script>hljs.highlightAll();</script> 
    </head>

    <body>
        <div class="navbar fixed-top navbar-expand-lg navbar-dark bg-primary">
            <div class="container">
                <a class="navbar-brand" href="../..">Levenstein Lab Handbook</a>
                <!-- Expander button -->
                <button type="button" class="navbar-toggler" data-bs-toggle="collapse" data-bs-target="#navbar-collapse" aria-controls="navbar-collapse" aria-expanded="false" aria-label="Toggle navigation">
                    <span class="navbar-toggler-icon"></span>
                </button>

                <!-- Expanded navigation -->
                <div id="navbar-collapse" class="navbar-collapse collapse">
                        <!-- Main navigation -->
                        <ul class="nav navbar-nav">
                            <li class="nav-item dropdown">
                                <a href="#" class="nav-link dropdown-toggle" role="button" data-bs-toggle="dropdown"  aria-expanded="false">Policies</a>
                                <ul class="dropdown-menu">
                                    
<li>
    <a href="../../Policies/code_software/" class="dropdown-item">Good Software</a>
</li>
                                    
<li>
    <a href="../../Policies/conferences_workshops/" class="dropdown-item">Conferences and Workshops</a>
</li>
                                    
<li>
    <a href="../../Policies/health_wellness/" class="dropdown-item">Health & Wellness</a>
</li>
                                    
<li>
    <a href="../../Policies/hours_remote_vacation/" class="dropdown-item">Hours & Remote Work</a>
</li>
                                    
<li>
    <a href="../../Policies/meetings/" class="dropdown-item">Meetings</a>
</li>
                                </ul>
                            </li>
                            <li class="nav-item dropdown">
                                <a href="#" class="nav-link dropdown-toggle active" aria-current="page" role="button" data-bs-toggle="dropdown"  aria-expanded="false">Resources</a>
                                <ul class="dropdown-menu">
                                    
<li>
    <a href="../adobe/" class="dropdown-item">Adobe</a>
</li>
                                    
<li>
    <a href="../basic_github/" class="dropdown-item">Basic Github</a>
</li>
                                    
<li>
    <a href="../booking/" class="dropdown-item">Booking Rooms</a>
</li>
                                    
<li>
    <a href="../funding/" class="dropdown-item">Fellowships/Grants</a>
</li>
                                    
<li>
    <a href="../gen_ai/" class="dropdown-item">GenAI</a>
</li>
                                    
<li>
    <a href="../hpc/" class="dropdown-item">HPC</a>
</li>
                                    
<li>
    <a href="../mailing_lists/" class="dropdown-item">Mailing Lists</a>
</li>
                                    
<li>
    <a href="../mental_health/" class="dropdown-item">Mental Health</a>
</li>
                                    
<li>
    <a href="../printers/" class="dropdown-item">Printing</a>
</li>
                                    
<li>
    <a href="./" class="dropdown-item active" aria-current="page">pRNN Tutorial</a>
</li>
                                    
<li>
    <a href="../recommended_reading/" class="dropdown-item">Recommended Reading</a>
</li>
                                    
<li>
    <a href="../science_general/" class="dropdown-item">Doing Science</a>
</li>
                                    
<li>
    <a href="../travel/" class="dropdown-item">Travel</a>
</li>
                                    
<li>
    <a href="../vpn/" class="dropdown-item">VPN</a>
</li>
                                    
<li>
    <a href="../vs_code/" class="dropdown-item">VS Code</a>
</li>
                                    
<li>
    <a href="../writing/" class="dropdown-item">Writing</a>
</li>
                                    
<li>
    <a href="../purchases/" class="dropdown-item">Purchases</a>
</li>
                                </ul>
                            </li>
                            <li class="nav-item">
                                <a href="../../onboarding/" class="nav-link">Onboarding</a>
                            </li>
                            <li class="nav-item">
                                <a href="../../contact/" class="nav-link">Contact</a>
                            </li>
                        </ul>

                    <ul class="nav navbar-nav ms-md-auto">
                        <li class="nav-item">
                            <a href="#" class="nav-link" data-bs-toggle="modal" data-bs-target="#mkdocs_search_modal">
                                <i class="fa fa-search"></i> Search
                            </a>
                        </li>
                            <li class="nav-item">
                                <a rel="prev" href="../printers/" class="nav-link">
                                    <i class="fa fa-arrow-left"></i> Previous
                                </a>
                            </li>
                            <li class="nav-item">
                                <a rel="next" href="../recommended_reading/" class="nav-link">
                                    Next <i class="fa fa-arrow-right"></i>
                                </a>
                            </li>
                            <li class="nav-item">
                                <a href="https://github.com/LevensteinLab/Lab-Handbook/edit/master/docs/Resources/prnn_tutorial.md" class="nav-link"><i class="fa-brands fa-github"></i> Edit on GitHub</a>
                            </li>
                    </ul>
                </div>
            </div>
        </div>

        <div class="container">
            <div class="row">
                    <div class="col-md-3"><div class="navbar-expand-md bs-sidebar hidden-print affix" role="complementary">
    <div class="navbar-header">
        <button type="button" class="navbar-toggler collapsed" data-bs-toggle="collapse" data-bs-target="#toc-collapse" title="Table of Contents">
            <span class="fa fa-angle-down"></span>
        </button>
    </div>

    
    <div id="toc-collapse" class="navbar-collapse collapse card bg-body-tertiary">
        <ul class="nav flex-column">
            
            <li class="nav-item" data-bs-level="1"><a href="#predictive-rnns" class="nav-link">Predictive RNNs</a>
              <ul class="nav flex-column">
              </ul>
            </li>
        </ul>
    </div>
</div></div>
                    <div class="col-md-9" role="main">

<h1 id="predictive-rnns">Predictive RNNs</h1>
<p>There are some extra steps in managing the requirements needed for the <a href="https://github.com/LevensteinLab/pRNN">Predictive RNN</a> project. This guide should help you get everything set up on Misha.</p>
<ol>
<li>Ensure you have an account on Misha, and log on.<ol>
<li>Make sure to allocate an interactive session (e.g. <code>salloc -t 2:00:00</code>)! If are using the VS Code Proxy (as described on the <a href="https://levensteinlab.github.io/Lab-Handbook/Resources/vs_code/">vs_code.md</a> page), you're already on a compute node.</li>
<li>Make sure you've also set up SSH cloning from the cluster, because you'll need to clone repositories into your storage. We're using SSH clone links from here out.</li>
<li>See the page on HPCs for more information on this.</li>
</ol>
</li>
<li>Clone the <code>pRNN</code> package into your <code>project</code> folder. This is accessible by typing <code>cd ~/../../project/levenstein/YOUR_NETID/</code>. This brings you to the <code>/gpfs/radev/project/levenstein/YOUR_NETID</code>.<ol>
<li><code>git clone git@github.com:LevensteinLab/pRNN.git</code></li>
<li>üëÅÔ∏è Watch the repository so you can be notified of any updates!</li>
</ol>
</li>
<li>Also clone the following repository into that project directory:<ol>
<li>Farama Foundation version of minigrid. This is the most up-to-date version. (<code>git clone git@github.com:Farama-Foundation/Minigrid.git</code>)</li>
</ol>
</li>
<li>Create a conda environment with Python 3.9.<ol>
<li>Misha doesn't come with Python 3.9 out of the box, and we need this version for later dependencies.</li>
<li>Type <code>module load miniconda</code> to ensure conda is loaded for use.</li>
<li>Run <code>conda create -n prnn_tutorial python=3.9</code> to make an environment called <code>prnn_tutorial</code> with python 3.9 installed.</li>
<li>Activate it (<code>conda activate prnn_tutorial</code>).</li>
</ol>
</li>
<li>In the project folder, create your own separate repo for your work. We recommend using a template such as Patrick Mineault's <code>true-neutral-cookiecutter</code> to model the repository after.<ol>
<li><code>pip install cookiecutter</code></li>
<li><code>cookiecutter gh:patrickmineault/true-neutral-cookiecutter</code></li>
<li>It will prompt you for input regarding the name of the repository.</li>
</ol>
</li>
<li>Now, we need to populate our environment with the correct packages. Some of them depend on an older version of pip, so it's important to do the steps in order. Run the following commands:<ol>
<li><code>pip install "pip&lt;24.1" setuptools==59.5.0 wheel==0.37.0</code></li>
<li><code>pip install gym==0.21.0 --no-binary gym</code> </li>
<li><code>pip install torch torchvision torchaudio --index-url https://download.pytorch.org/whl/cu118 --no-cache-dir</code></li>
</ol>
</li>
<li>We'll also need to install the external repository from step 3 into environment.<ol>
<li><code>pip3 install -e ~/../../project/levenstein/YOUR_NETID/Minigrid</code></li>
</ol>
</li>
<li>Install the <code>pRNN</code> package itself into the environment.<ol>
<li>Navigate to the repository, then <code>pip install -e .</code></li>
</ol>
</li>
<li>Make sure that the jupyter notebook kernel can recognize this environment.<ol>
<li><code>pip install ipykernel</code> </li>
<li>Run <code>ipython kernel install --user --name=prnn_tutorial</code>. To allow jupyter notebooks to pick it up.</li>
<li>If you run <code>jupyter kernelspec list</code>, you should see <code>prnn_tutorial</code> as an option.</li>
<li>You may need to restart your VSCode or kernel here. <ol>
<li>If you're on VSCode, you can do this fast with <code>Cmd + Shift + P</code> to open the Command Palette and then <code>Developer: Reload Window</code>.</li>
</ol>
</li>
</ol>
</li>
<li>Your environment should be all set to run example code provided with the package, or to start going through the tutorials. The quickstart tutorial can be found <a href="https://prnn.readthedocs.io/en/latest/quickstart.html">here</a>. This contains an example training run.<ol>
<li>If you would like to run through quickstart interactively, you will need to copy <code>pRNN/examples/tutorial.ipynb</code> to your <code>prnn_tutorial</code> folder. This can be done with <code>rsync -r ../pRNN/examples/ .</code></li>
</ol>
</li>
</ol></div>
            </div>
        </div>

        <footer class="col-md-12">
            <hr>
            <p>Documentation built with <a href="https://www.mkdocs.org/">MkDocs</a>.</p>
        </footer>
        <script src="../../js/bootstrap.bundle.min.js"></script>
        <script>
            var base_url = "../..",
                shortcuts = {"help": 191, "next": 78, "previous": 80, "search": 83};
        </script>
        <script src="../../js/base.js"></script>
        <script src="../../search/main.js"></script>

        <div class="modal" id="mkdocs_search_modal" tabindex="-1" role="dialog" aria-labelledby="searchModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="searchModalLabel">Search</h4>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <p>From here you can search these documents. Enter your search terms below.</p>
                <form>
                    <div class="form-group">
                        <input type="search" class="form-control" placeholder="Search..." id="mkdocs-search-query" title="Type search term here">
                    </div>
                </form>
                <div id="mkdocs-search-results" data-no-results-text="No results found"></div>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div><div class="modal" id="mkdocs_keyboard_modal" tabindex="-1" role="dialog" aria-labelledby="keyboardModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="keyboardModalLabel">Keyboard Shortcuts</h4>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
              <table class="table">
                <thead>
                  <tr>
                    <th style="width: 20%;">Keys</th>
                    <th>Action</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td class="help shortcut"><kbd>?</kbd></td>
                    <td>Open this help</td>
                  </tr>
                  <tr>
                    <td class="next shortcut"><kbd>n</kbd></td>
                    <td>Next page</td>
                  </tr>
                  <tr>
                    <td class="prev shortcut"><kbd>p</kbd></td>
                    <td>Previous page</td>
                  </tr>
                  <tr>
                    <td class="search shortcut"><kbd>s</kbd></td>
                    <td>Search</td>
                  </tr>
                </tbody>
              </table>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div>

    </body>
</html>
